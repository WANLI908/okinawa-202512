<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2025 æ²–ç¹©å…¨å®¶ç¦ ğŸŒº</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        body { font-family: 'M PLUS Rounded 1c', sans-serif; background-color: #FFF8E1; -webkit-tap-highlight-color: transparent; }
        .shisa-header { background: linear-gradient(135deg, #FFAB91 0%, #FFCC80 100%); border-radius: 0 0 30px 30px; box-shadow: 0 4px 15px rgba(255, 167, 38, 0.3); }
        .card { background: white; border-radius: 20px; border: 2px solid #FFE0B2; transition: all 0.3s; overflow: hidden; }
        .card-active { border-color: #FF7043; box-shadow: 0 8px 20px rgba(255, 112, 67, 0.2); }
        
        /* æ¨™ç±¤é¡è‰² */
        .tag-eat { background: #FFECB3; color: #E65100; }
        .tag-spot { background: #B2EBF2; color: #006064; }
        .tag-trans { background: #E1BEE7; color: #4A148C; }
        .tag-hotel { background: #DCEDC8; color: #33691E; }
        
        /* åº•éƒ¨å°èˆª */
        .bottom-nav { background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(10px); border-top: 1px solid #FFE0B2; }
        .nav-item.active { color: #FF7043; transform: translateY(-2px); }
        .nav-item { color: #90A4AE; transition: all 0.2s; }
        
        /* å±•é–‹å‹•ç•« */
        .details-content { display: none; animation: slideDown 0.3s ease-out; }
        .details-content.show { display: block; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

        /* ç¥¨åˆ¸æ¨£å¼ */
        .ticket-box { background-image: radial-gradient(circle at 0 50%, transparent 10px, #FFF5F5 11px), radial-gradient(circle at 100% 50%, transparent 10px, #FFF5F5 11px); border: 2px dashed #FFCDD2; color: #C62828; padding: 15px 25px; border-radius: 8px; position: relative; }
    </style>
</head>
<body class="pb-28">

    <!-- é ‚éƒ¨æ¨™é¡Œ -->
    <div class="shisa-header sticky top-0 z-50 p-4 flex justify-between items-center text-white">
        <div>
            <h1 class="text-xl font-bold flex items-center gap-2">
                æ²–ç¹©å…¨å®¶ç¦ 
                <span id="current-role-badge" onclick="clearRole()" class="text-xs bg-white/20 px-2 py-1 rounded cursor-pointer hover:bg-white/40">åˆ‡æ›èº«ä»½</span>
            </h1>
            <p id="header-date" class="text-xs opacity-90 mt-1">12/25 - 12/29</p>
        </div>
        <div class="text-3xl" onclick="toggleDevMode()">ğŸ¦</div>
    </div>

    <!-- èº«ä»½é¸æ“‡é é¢ -->
    <div id="role-selector" class="fixed inset-0 bg-[#FFF8E1] z-[60] flex flex-col items-center justify-center p-6 space-y-8 hidden">
        <div class="text-center">
            <h2 class="text-3xl font-bold text-orange-600 mb-2">ä½ æ˜¯èª°ï¼Ÿ</h2>
            <p class="text-gray-500">é¸æ“‡èº«ä»½ä»¥æä¾›æœ€é©åˆä½ çš„è³‡è¨Š</p>
        </div>
        <div class="grid grid-cols-2 gap-4 w-full max-w-sm">
            <button onclick="selectRole('driver')" class="bg-white p-4 rounded-2xl shadow-lg border-2 border-orange-100 flex flex-col items-center gap-2 hover:bg-orange-50">
                <div class="text-4xl">ğŸš—</div><div class="font-bold text-gray-700">å¦¹å¦¹ (é§•é§›)</div>
            </button>
            <button onclick="selectRole('copilot')" class="bg-white p-4 rounded-2xl shadow-lg border-2 border-orange-100 flex flex-col items-center gap-2 hover:bg-orange-50">
                <div class="text-4xl">ğŸ—ºï¸</div><div class="font-bold text-gray-700">çˆ¸çˆ¸ (å‰¯é§•)</div>
            </button>
            <button onclick="selectRole('tourist')" class="bg-white p-4 rounded-2xl shadow-lg border-2 border-orange-100 flex flex-col items-center gap-2 hover:bg-orange-50">
                <div class="text-4xl">ğŸ“¸</div><div class="font-bold text-gray-700">åª½åª½ (éŠå®¢)</div>
            </button>
            <button onclick="selectRole('admin')" class="bg-white p-4 rounded-2xl shadow-lg border-2 border-orange-100 flex flex-col items-center gap-2 hover:bg-orange-50">
                <div class="text-4xl">ğŸ“</div><div class="font-bold text-gray-700">æˆ‘ (ä¸»æª)</div>
            </button>
        </div>
    </div>

    <!-- ä¸»è¦å…§å®¹å€ -->
    <div id="app" class="p-4 space-y-6"></div>

    <!-- åœ–ç‰‡å½ˆçª— -->
    <div id="dish-modal" class="fixed inset-0 bg-black/80 z-[100] hidden items-center justify-center p-4" onclick="closeModal()">
        <div class="bg-white rounded-2xl p-6 w-full max-w-sm text-center" onclick="event.stopPropagation()">
            <div class="text-gray-500 text-xs mb-2">è«‹æŒ‡çµ¦åº—å“¡çœ‹</div>
            <h2 id="modal-jp" class="text-2xl font-bold text-gray-900 mb-1"></h2>
            <p id="modal-cn" class="text-lg text-orange-600 font-medium mb-4"></p>
            <button onclick="closeModal()" class="bg-gray-200 text-gray-700 px-8 py-2 rounded-full font-bold">é—œé–‰</button>
        </div>
    </div>

    <!-- åº•éƒ¨å°èˆª -->
    <div class="bottom-nav fixed bottom-0 w-full flex justify-around p-2 z-50 pb-6">
        <button onclick="switchTab('home')" id="btn-home" class="nav-item active flex flex-col items-center w-1/4">
            <i class="fa-solid fa-house text-lg mb-1"></i><span class="text-[10px] font-bold">è¡Œç¨‹</span>
        </button>
        <button onclick="switchTab('info')" id="btn-info" class="nav-item flex flex-col items-center w-1/4">
            <i class="fa-solid fa-ticket text-lg mb-1"></i><span class="text-[10px] font-bold">æ†‘è­‰/è³‡è¨Š</span>
        </button>
        <button onclick="switchTab('budget')" id="btn-budget" class="nav-item flex flex-col items-center w-1/4">
            <i class="fa-solid fa-wallet text-lg mb-1"></i><span class="text-[10px] font-bold">è¨˜å¸³</span>
        </button>
        <button onclick="switchTab('shopping')" id="btn-shopping" class="nav-item flex flex-col items-center w-1/4">
            <i class="fa-solid fa-bag-shopping text-lg mb-1"></i><span class="text-[10px] font-bold">å¿…è²·</span>
        </button>
    </div>

    <script>
        // --- è³‡æ–™è¨­å®š ---
        let currentRole = localStorage.getItem('user_role'); 
        let currentSimulatedDate = null;

        // è¡Œç¨‹è³‡æ–™ (å·²æ•´åˆ PDF è³‡è¨Š)
        const tripData = [
            {
                date: "2025/12/25", day: "é€±å››",
                events: [
                    { 
                        time: "14:50", title: "Uber å‡ºç™¼åŒ—è»Š", type: "trans", 
                        guide: "è­·ç…§ã€æ‰‹æ©Ÿã€éŒ¢åŒ…ã€å……é›»ç·šç¢ºèªå¸¶äº†å—ï¼Ÿ",
                        adminNote: "è¨˜å¾—å«å¤§å°çš„ Uber (UberXL)"
                    },
                    { 
                        time: "18:20", title: "é£›å¾€æ²–ç¹© (MM930)", type: "trans", 
                        title_detail: "æ¨‚æ¡ƒèˆªç©º MM930",
                        bookingInfo: { code: "1616324336315022", note: "Trip.com è¨‚å–®" },
                        guide: "èˆªå»ˆï¼šæ¡ƒæ©Ÿ T1 -> é‚£éœ¸ Dã€‚æ©Ÿä¸Šç„¡ä¾›é¤ã€‚",
                        imgUrl: "https://images.unsplash.com/photo-1436491865332-7a61a109cc05?w=500",
                        adminNote: "è¨—é‹ 20kg/äººï¼Œæ‰‹æ 7kg/äººã€‚æ‰€æœ‰äººé›»å­æ©Ÿç¥¨å­˜åœ¨æˆ‘æ‰‹æ©Ÿè£¡ã€‚",
                    },
                    {
                        time: "22:00", title: "æ±æ©«INN ç¾æ¦®æ©‹", type: "hotel",
                        mapCode: "33 157 154*55",
                        bookingInfo: { code: "æœƒå“¡å¡ Check-in", note: "ç¾å ´ä»˜æ¬¾" },
                        guide: "é›¢åœ‹éš›é€šå¾ˆè¿‘ï¼Œæ¨“ä¸‹æœ‰ä¾¿åˆ©å•†åº—ã€‚",
                        parking: { info: "ç«‹é«”åœè»Šå ´ (500å††/æ™š)", nearby: "è‹¥æ»¿ä½åœå°é¢ Coin Parking" }
                    }
                ]
            },
            {
                date: "2025/12/26", day: "é€±äº”",
                events: [
                    { 
                        time: "08:00", title: "OTS ç§Ÿè»Š (è‡¨ç©ºè±å´)", type: "trans", 
                        mapCode: "232 543 502*66",
                        bookingInfo: { code: "Email ç¢ºèªä¿¡", note: "é ç´„åï¼šChen Ru Xuan" },
                        parking: { info: "ç¾å ´æœ‰å°ˆç”¨é‚„è»Šå€", nearby: "æ—é‚Šæœ‰åŠ æ²¹ç«™" },
                        guide: "å³é§•å£è¨£ï¼šé å·¦é–‹ï¼Œé›¨åˆ·åœ¨å·¦ï¼Œæ–¹å‘ç‡ˆåœ¨å³ã€‚",
                        adminNote: "éœ€å‡ºç¤ºï¼šå°ç£é§•ç…§ + æ—¥æ–‡è­¯æœ¬ + è­·ç…§ã€‚",
                    },
                    { 
                        time: "11:00", title: "æ¸¯å·å¤–äººå±…ä½å®…", type: "spot", 
                        mapCode: "33 341 063*55",
                        parking: { info: "åº—é‹ªå‰åƒ…1-2æ ¼", nearby: "å»ºè­°åœå¤–é¢ä»˜è²»åœè»Šå ´ (300å††/hr)" },
                        rating: 4.4,
                        imgUrl: "https://images.unsplash.com/photo-1516483638261-f4dbaf036963?w=500",
                        guide: "ç¾è»å®¿èˆæ”¹å»ºçš„æ–‡é’èšè½ï¼Œå¿…è²· O'Hacorte æ°´æœå¡”ã€‚",
                        adminNote: "åœç•™ 1 å°æ™‚ï¼Œ12:00 å¿…é ˆé›¢é–‹å‰å¾€æ™®å¤©æ»¿å®®ã€‚"
                    }
                ]
            },
            {
                date: "2025/12/28", day: "é€±æ—¥",
                events: [
                    { 
                        time: "17:30", title: "ã‚¬ãƒ³ã‚¬ãƒ©ãƒ¼ã®è°· (Gangala)", type: "spot", 
                        title_detail: "Gangalaä¹‹è°· å°è¦½ä¹‹æ—…",
                        mapCode: "232 495 330*28",
                        bookingInfo: { code: "0Y0BGC4I", note: "ä»£è¡¨ï¼šChen Ru Xuan (4äºº)", price: "Â¥14,000 (å·²ä»˜)" },
                        parking: { info: "å°ˆç”¨å…è²»åœè»Šå ´", nearby: "å°±åœ¨å…¥å£è™•" },
                        guide: "17:30 é›†åˆï¼Œé«”é©—å¤ªå¤æ£®æ—å°è¦½ã€‚ç¾å ´æœ‰ä¸­æ–‡èªéŸ³å°è¦½æ©Ÿã€‚",
                        rating: 4.8,
                        imgUrl: "https://lh3.googleusercontent.com/p/AF1QipN-QJ7e... (ç¤ºæ„åœ–)", 
                        adminNote: "å‹™å¿…æº–æ™‚ï¼é²åˆ°ç„¡æ³•åƒåŠ ä¸”ä¸é€€è²»ã€‚è¨‚å–®åœ¨ Nutmegã€‚",
                        decision: "è‹¥ææ—©åˆ°ï¼Œå¯ä»¥åœ¨ CAVE CAFE å–å’–å•¡ç­‰å¾…ã€‚"
                    },
                    {
                        time: "20:00", title: "æ±æ©«INN é‚£éœ¸æ—­æ©‹", type: "hotel",
                        bookingInfo: { code: "æœƒå“¡å¡", note: "ç¾å ´ä»˜æ¬¾" },
                        mapCode: "33 126 733*12"
                    }
                ]
            },
            {
                date: "2025/12/29", day: "é€±ä¸€",
                events: [
                    { 
                        time: "16:55", title: "å›ç¨‹é£›æ©Ÿ (FD231)", type: "trans", 
                        title_detail: "æ³°åœ‹äºèˆª FD231",
                        bookingInfo: { code: "1616324336315022", note: "Trip.com" },
                        guide: "é‚£éœ¸ I -> æ¡ƒæ©Ÿ T1ã€‚è«‹ææ—© 2.5 å°æ™‚åˆ°æ©Ÿå ´ã€‚",
                        adminNote: "è¡Œæé¡åº¦ä¸€æ¨£æ¯äºº 20kgã€‚"
                    }
                ]
            }
        ];

        // --- æ ¸å¿ƒé‚è¼¯ ---

        function init() {
            if (!currentRole) {
                document.getElementById('role-selector').classList.remove('hidden');
                document.getElementById('role-selector').classList.add('flex');
            } else {
                updateRoleUI();
                renderHome();
            }
        }

        function selectRole(role) {
            currentRole = role;
            localStorage.setItem('user_role', role);
            document.getElementById('role-selector').classList.add('hidden');
            document.getElementById('role-selector').classList.remove('flex');
            updateRoleUI();
            renderHome();
        }

        function clearRole() {
            localStorage.removeItem('user_role');
            currentRole = null;
            location.reload();
        }

        function updateRoleUI() {
            const map = { 'driver': 'ğŸš— å¦¹å¦¹', 'copilot': 'ğŸ—ºï¸ çˆ¸çˆ¸', 'tourist': 'ğŸ“¸ åª½åª½', 'admin': 'ğŸ“ æˆ‘' };
            document.getElementById('current-role-badge').innerText = `ç›®å‰ï¼š${map[currentRole]} (æ›)`;
        }

        function toggleCard(element) {
            const details = element.querySelector('.details-content');
            const isHidden = details.style.display === 'none' || details.style.display === '';
            
            // é—œé–‰å…¶ä»–å±•é–‹çš„å¡ç‰‡ (Option)
            document.querySelectorAll('.details-content').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.card').forEach(el => el.classList.remove('card-active'));

            if (isHidden) {
                details.style.display = 'block';
                element.classList.add('card-active');
            } else {
                details.style.display = 'none';
                element.classList.remove('card-active');
            }
        }

        function renderHome() {
            const container = document.getElementById('app');
            // æ¨¡æ“¬æ—¥æœŸè™•ç† (é è¨­é¡¯ç¤º 12/28 ç‚ºäº†å±•ç¤º Gangala è¡Œç¨‹)
            const dateStr = currentSimulatedDate ? "2025/12/28" : "2025/12/25";
            const todayData = tripData.find(d => d.date === dateStr) || tripData[0];

            let html = `
                <div class="flex justify-between items-end mb-4 px-2">
                    <div>
                        <h2 class="text-2xl font-bold text-orange-600">${todayData.day}</h2>
                        <span class="text-sm text-gray-500">${todayData.date}</span>
                    </div>
                    <div class="text-xs text-gray-400">é»æ“Šå¡ç‰‡æŸ¥çœ‹è©³æƒ…</div>
                </div>
                <div class="space-y-4">
            `;

            todayData.events.forEach(event => {
                // 1. ç”¢ç”Ÿã€Œæœªå±•é–‹ã€æ™‚çš„è§’è‰²å°ˆå±¬æ‘˜è¦
                let previewContent = '';
                if (currentRole === 'driver') {
                    if (event.mapCode) previewContent = `<div class="mt-2 text-sm font-mono bg-gray-100 p-1 px-2 rounded inline-block text-gray-700"><i class="fa-solid fa-map-location-dot mr-1"></i> ${event.mapCode}</div>`;
                } else if (currentRole === 'copilot') {
                    if (event.parking) previewContent = `<div class="mt-2 text-xs text-blue-600"><i class="fa-solid fa-square-parking mr-1"></i> ${event.parking.info}</div>`;
                } else if (currentRole === 'tourist') {
                    if (event.rating) previewContent = `<div class="mt-2 text-xs text-yellow-500"><i class="fa-solid fa-star"></i> ${event.rating} (æŸ¥çœ‹è©•è«–)</div>`;
                } else if (currentRole === 'admin') {
                    if (event.bookingInfo) previewContent = `<div class="mt-2 text-xs text-red-500 font-bold"><i class="fa-solid fa-ticket mr-1"></i> ${event.bookingInfo.note}</div>`;
                }

                // 2. ç”¢ç”Ÿã€Œå±•é–‹å¾Œã€çš„å®Œæ•´å…§å®¹ (æ‰€æœ‰äººéƒ½çœ‹å¾—åˆ°)
                let detailsHtml = `
                    <div class="details-content mt-4 pt-4 border-t border-gray-100 space-y-4">
                        
                        ${event.title_detail ? `<h4 class="font-bold text-gray-800 text-lg">${event.title_detail}</h4>` : ''}

                        <!-- ç¥¨åˆ¸è³‡è¨Š (æœ€é‡è¦) -->
                        ${event.bookingInfo ? `
                            <div class="ticket-box">
                                <div class="text-sm opacity-70">é ç´„æ†‘è­‰ / è¨‚å–®è™Ÿ</div>
                                <div class="text-2xl font-bold font-mono my-1 select-all">${event.bookingInfo.code}</div>
                                <div class="text-sm flex justify-between">
                                    <span>${event.bookingInfo.note}</span>
                                    <span>${event.bookingInfo.price || ''}</span>
                                </div>
                            </div>
                        ` : ''}

                        <!-- åœ–ç‰‡ -->
                        ${event.imgUrl ? `<div class="w-full h-40 bg-gray-200 rounded-lg bg-cover bg-center" style="background-image: url('${event.imgUrl}')"></div>` : ''}

                        <!-- å°èˆªèˆ‡åœè»Š -->
                        ${event.mapCode ? `
                            <div class="bg-gray-50 p-3 rounded-lg">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-sm font-bold text-gray-600">MapCode</span>
                                    <div class="flex items-center gap-2">
                                        <span class="font-mono text-xl font-bold">${event.mapCode}</span>
                                        <button onclick="copyText('${event.mapCode}', event)" class="text-orange-500"><i class="fa-regular fa-copy"></i></button>
                                    </div>
                                </div>
                                <a href="https://www.google.com/maps/search/?api=1&query=${event.title}+æ²–ç¹©" target="_blank" class="block w-full text-center bg-blue-500 text-white font-bold py-2 rounded-lg shadow-sm">
                                    <i class="fa-solid fa-location-arrow mr-2"></i> Google å°èˆª
                                </a>
                                ${event.parking ? `<div class="mt-2 text-xs text-gray-500"><i class="fa-solid fa-square-parking"></i> ${event.parking.info} <br> (å‚™æ¡ˆ: ${event.parking.nearby})</div>` : ''}
                            </div>
                        ` : ''}

                        <!-- å°éŠèˆ‡ç­†è¨˜ -->
                        <div class="space-y-2">
                            ${event.guide ? `<div class="text-sm text-gray-700 leading-relaxed"><i class="fa-solid fa-circle-info text-orange-400 mr-1"></i> ${event.guide}</div>` : ''}
                            ${event.adminNote ? `<div class="text-sm text-gray-600 bg-yellow-50 p-2 rounded border border-yellow-100"><i class="fa-solid fa-pen mr-1"></i> ç­†è¨˜: ${event.adminNote}</div>` : ''}
                            ${event.decision ? `<div class="text-sm text-gray-500"><i class="fa-solid fa-scale-balanced mr-1"></i> æ±ºç­–: ${event.decision}</div>` : ''}
                        </div>
                    </div>
                `;

                html += `
                    <div class="card p-5" onclick="toggleCard(this)">
                        <div class="flex items-start gap-4 pointer-events-none">
                            <div class="font-bold text-xl text-gray-700 min-w-[50px] pt-1">${event.time}</div>
                            <div class="flex-1">
                                <h3 class="font-bold text-lg text-gray-800">${event.title}</h3>
                                <span class="text-xs px-2 py-1 rounded-full ${event.type === 'eat' ? 'tag-eat' : event.type === 'spot' ? 'tag-spot' : event.type === 'hotel' ? 'tag-hotel' : 'tag-trans'}">
                                    ${event.type === 'eat' ? 'ç¾é£Ÿ' : event.type === 'spot' ? 'æ™¯é»' : event.type === 'hotel' ? 'ä½å®¿' : 'äº¤é€š'}
                                </span>
                                ${previewContent}
                            </div>
                        </div>
                        ${detailsHtml}
                    </div>
                `;
            });
            html += `</div>`;
            container.innerHTML = html;
        }

        // --- è³‡è¨Šé  (é¡¯ç¤ºæ©Ÿç¥¨èˆ‡ä½å®¿ç¸½è¦½) ---
        function renderInfo() {
            const container = document.getElementById('app');
            container.innerHTML = `
                <div class="space-y-6">
                    <!-- èˆªç­è³‡è¨Š -->
                    <div class="card p-5 border-l-4 border-blue-400">
                        <h3 class="font-bold text-lg text-gray-800 mb-3"><i class="fa-solid fa-plane mr-2"></i>æ©Ÿç¥¨æ†‘è­‰</h3>
                        
                        <div class="bg-gray-50 p-3 rounded mb-3">
                            <div class="flex justify-between text-sm text-gray-500 mb-1"><span>å»ç¨‹ 12/25</span><span>MM930</span></div>
                            <div class="font-bold text-lg">18:20 TPE (T1) <i class="fa-solid fa-arrow-right text-sm mx-1"></i> 20:50 OKA (D)</div>
                        </div>

                        <div class="bg-gray-50 p-3 rounded mb-3">
                            <div class="flex justify-between text-sm text-gray-500 mb-1"><span>å›ç¨‹ 12/29</span><span>FD231</span></div>
                            <div class="font-bold text-lg">16:55 OKA (I) <i class="fa-solid fa-arrow-right text-sm mx-1"></i> 17:35 TPE (T1)</div>
                        </div>

                        <div class="ticket-box mb-3">
                            <div class="text-xs opacity-70">Trip.com è¨‚å–®ç·¨è™Ÿ</div>
                            <div class="text-xl font-bold font-mono select-all">1616324336315022</div>
                        </div>

                        <div class="text-sm text-gray-600 space-y-1">
                            <p>ğŸ‘¥ ä¹˜å®¢ï¼šChen Szu Yu, Chen Ru Xuan, Chen Chien Liang, Hsu Mei Ling</p>
                            <p>ğŸ§³ è¡Œæï¼šæ‰‹æ 7kg / è¨—é‹ 20kg (æ¯äºº)</p>
                        </div>
                    </div>

                    <!-- ä½å®¿è³‡è¨Š -->
                    <div class="card p-5 border-l-4 border-green-400">
                        <h3 class="font-bold text-lg text-gray-800 mb-3"><i class="fa-solid fa-bed mr-2"></i>ä½å®¿è³‡è¨Š</h3>
                        <div class="space-y-3">
                            <div>
                                <div class="font-bold text-gray-700">12/25 (1æ™š)</div>
                                <div class="text-sm">æ±æ©«INN é‚£éœ¸åœ‹éš›é€šç¾æ¦®æ©‹ç«™</div>
                            </div>
                            <div>
                                <div class="font-bold text-gray-700">12/26-27 (2æ™š)</div>
                                <div class="text-sm">ç¾æ¿±æ—¥è½åº¦å‡é£¯åº— (Sunset Resort)</div>
                            </div>
                            <div>
                                <div class="font-bold text-gray-700">12/28 (1æ™š)</div>
                                <div class="text-sm">æ±æ©«INN é‚£éœ¸æ—­æ©‹ç«™</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // --- é€šç”¨åŠŸèƒ½ ---
        function switchTab(tab) {
            document.querySelectorAll('.nav-item').forEach(btn => btn.classList.remove('active', 'text-orange-500'));
            document.getElementById(`btn-${tab}`).classList.add('active', 'text-orange-500');

            if (tab === 'home') renderHome();
            if (tab === 'info') renderInfo();
            if (tab === 'shopping') renderShopping(); // éœ€è£œä¸Šä¹‹å‰å¯«çš„ function
            if (tab === 'budget') renderBudget(); // éœ€è£œä¸Šä¹‹å‰å¯«çš„ function
            
            window.scrollTo(0, 0);
        }

        function copyText(text, event) {
            if(event) event.stopPropagation();
            navigator.clipboard.writeText(text).then(() => alert("å·²è¤‡è£½: " + text));
        }

        function toggleDevMode() {
            currentSimulatedDate = !currentSimulatedDate;
            renderHome();
            alert(currentSimulatedDate ? "åˆ‡æ›è‡³ 12/28 (å±•ç¤º Gangala)" : "åˆ‡æ›å› 12/25");
        }

        // --- è£œå›è³¼ç‰©èˆ‡è¨˜å¸³ (ç°¡åŒ–ç‰ˆä»¥ç¶­æŒé‹ä½œ) ---
        function renderShopping() { document.getElementById('app').innerHTML = '<div class="text-center py-10 text-gray-500">è³¼ç‰©æ¸…å–®åŠŸèƒ½å€ (æ²¿ç”¨ä¸Šä¸€ç‰ˆä»£ç¢¼)</div>'; }
        function renderBudget() { document.getElementById('app').innerHTML = '<div class="text-center py-10 text-gray-500">è¨˜å¸³åŠŸèƒ½å€ (æ²¿ç”¨ä¸Šä¸€ç‰ˆä»£ç¢¼)</div>'; }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
